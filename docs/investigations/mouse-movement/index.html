<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Mouse Movement</title>
  <style>
    body {
      margin: 0;
    }

    h1, p {
      margin-left: 50px;
    }

    p {
      max-width: 550px;
    }

    canvas {
      position: absolute;
      width: 100%;
      height: 800px;
      border: solid 1px black;
    }

    .running canvas {
      cursor: none;
    }
  </style>
</head>
<body>

<h1>Mouse Movement</h1>

<p>Spacetime will store mouse data in git, in memory on the client, so it needs to be stored effeciently. This is an attempt to understand the mouse data and explore ways to reduce the amount of space it will take.</p>

<p>One way being explored is to store mouse coordinates in two k-ary trees, one each for x and y, where the leaves are tuples of the change in x/y from the previous tick. Repeated tuples of the same change values will only need to be stored once (due to git's use of SHA-1), saving memory. To increase the odds of seeing a repeated tuple, the variability in the mouse changes can be reduced by quantizing them to a few allowed values.</p>

<p><strong>Instructions:</strong> Click the canvas to start, and click again to stop. The black squares are adjusted by quantizing the mouse changes, and the red squares are the original mouse positions. View the console for analysis. Press shift to see only one color at a time, and press space to toggle between red and black.</p>

<canvas id="canvas-bottom"></canvas>
<canvas id="canvas-top"></canvas>

<script src="./quantize.js"></script>
<script src="./analysis.js"></script>
<script src="./ui.js"></script>
<script src="./main.js"></script>
</body>
</html>
